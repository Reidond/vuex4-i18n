(function(h,E){typeof exports=="object"&&typeof module!="undefined"?E(exports):typeof define=="function"&&define.amd?define(["exports"],E):(h=typeof globalThis!="undefined"?globalThis:h||self,E(h.vuexI18n={}))})(this,function(h){"use strict";const E={namespaced:!0,state:{locale:null,fallback:null,translations:{}},mutations:{SET_LOCALE(t,e){t.locale=e.locale},ADD_LOCALE(t,e){var n=I(e.translations);if(t.translations.hasOwnProperty(e.locale)){let l=t.translations[e.locale];t.translations[e.locale]=Object.assign({},l,n)}else t.translations[e.locale]=n;try{t.translations.__ob__&&t.translations.__ob__.dep.notify()}catch{}},REPLACE_LOCALE(t,e){var n=I(e.translations);t.translations[e.locale]=n;try{t.translations.__ob__&&t.translations.__ob__.dep.notify()}catch{}},REMOVE_LOCALE(t,e){if(t.translations.hasOwnProperty(e.locale)){t.locale===e.locale&&(t.locale=null);let n=Object.assign({},t.translations);delete n[e.locale],t.translations=n}},SET_FALLBACK_LOCALE(t,e){t.fallback=e.locale}},actions:{setLocale(t,e){t.commit({type:"SET_LOCALE",locale:e.locale})},addLocale(t,e){t.commit({type:"ADD_LOCALE",locale:e.locale,translations:e.translations})},replaceLocale(t,e){t.commit({type:"REPLACE_LOCALE",locale:e.locale,translations:e.translations})},removeLocale(t,e){t.commit({type:"REMOVE_LOCALE",locale:e.locale,translations:e.translations})},setFallbackLocale(t,e){t.commit({type:"SET_FALLBACK_LOCALE",locale:e.locale})}}},I=function t(e){let n={};for(let l in e){if(!e.hasOwnProperty(l))continue;let k=typeof e[l];if(q(e[l])){let c=e[l].length;for(let a=0;a<c;a++)if(typeof e[l][a]!=="string"){console.warn("i18n:","currently only arrays of strings are fully supported",e[l]);break}n[l]=e[l]}else if(k=="object"&&k!==null){let c=t(e[l]);for(let a in c)!c.hasOwnProperty(a)||(n[l+"."+a]=c[a])}else n[l]=e[l]}return n};function q(t){return!!t&&Array===t.constructor}var G={getTranslationIndex:function(t,e){switch(t){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return e%10!=1||e%100==11?1:0;case"jv":return e!==0?1:0;case"mk":return e===1||e%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return e>1?1:0;case"lv":return e%10==1&&e%100!=11?0:e!==0?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"mnk":return e===0?0:e===1?1:2;case"ro":return e===1?0:e===0||e%100>0&&e%100<20?1:2;case"pl":return e===1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return e===1?0:e>=2&&e<=4?1:2;case"csb":return e===1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mt":return e===1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"gd":return e===1||e===11?0:e===2||e===12?1:e>2&&e<20?2:3;case"cy":return e===1?0:e===2?1:e!==8&&e!==11?2:3;case"kw":return e===1?0:e===2?1:e===3?2:3;case"ga":return e===1?0:e===2?1:e>2&&e<7?2:e>6&&e<11?3:4;case"ar":return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5;default:return e!==1?1:0}}};let N={};N.install=function(e,n,l){var V,D,K,B;(typeof arguments[2]=="string"||typeof arguments[3]=="string")&&(console.warn("i18n: Registering the plugin vuex-i18n with a string for `moduleName` or `identifiers` is deprecated. Use a configuration object instead.","https://github.com/dkfbasel/vuex-i18n#setup"),l={moduleName:arguments[2],identifiers:arguments[3]});const k=((V=e==null?void 0:e.config)==null?void 0:V.globalProperties)||e,c=((D=e==null?void 0:e.config)==null?void 0:D.globalProperties)||e.prototype;l=Object.assign({warnings:!0,moduleName:"i18n",identifiers:["{","}"],preserveState:!1,translateFilterName:"translate",translateInFilterName:"translateIn",onTranslationNotFound:function(){}},l);const a=l.moduleName,d=l.identifiers;l.translateFilterName,l.translateInFilterName;let g=l.onTranslationNotFound;typeof g!="function"&&(console.error("i18n: i18n config option onTranslationNotFound must be a function"),g=function(){});const s=n||((B=(K=e==null?void 0:e.config)==null?void 0:K.globalProperties)==null?void 0:B.$store);if(!s){console.error("i18n: i18n vuex module is not correctly initialized.",a);return}if(s.registerModule(a,E,{preserveState:l.preserveState}),s.state.hasOwnProperty(a)===!1){console.error("i18n: i18n vuex module is not correctly initialized. Please check the module name:",a),c.$i18n=function(f){return f},c.$getLanguage=function(){return null},c.$setLanguage=function(){console.error("i18n: i18n vuex module is not correctly initialized")};return}let w=H(d,l.warnings),P=function(){let r=s.state[a].locale;return L(r,...arguments)},L=function(r){let o=arguments,i="",m="",u={},y=null,_=o.length;if(_>=3&&typeof o[2]=="string"?(i=o[1],m=o[2],_>3&&(u=o[3]),_>4&&(y=o[4])):(i=o[1],m=i,_>2&&(u=o[2]),_>3&&(y=o[3])),!r)return l.warnings&&console.warn("i18n: i18n locale is not set when trying to access translations:",i),m;let p=s.state[a].translations,A=s.state[a].fallback,v=r.split("-"),C=!0;if((p.hasOwnProperty(r)===!1||p[r].hasOwnProperty(i)===!1)&&(C=!1),C===!0)return w(r,p[r][i],u,y);if(v.length>1&&p.hasOwnProperty(v[0])===!0&&p[v[0]].hasOwnProperty(i)===!0)return w(v[0],p[v[0]][i],u,y);let U=g(r,i,m);return U&&Promise.resolve(U).then(J=>{let Y={};Y[i]=J,F(r,Y)}),p.hasOwnProperty(A)===!1?w(r,m,u,y):p[A].hasOwnProperty(i)===!1?w(A,m,u,y):w(r,p[A][i],u,y)},O=function(r,o="fallback"){let i=s.state[a].locale,m=s.state[a].fallback,u=s.state[a].translations;if(u.hasOwnProperty(i)&&u[i].hasOwnProperty(r))return!0;if(o=="strict")return!1;let y=i.split("-");return y.length>1&&u.hasOwnProperty(y[0])&&u[y[0]].hasOwnProperty(r)?!0:o=="locale"?!1:!!(u.hasOwnProperty(m)&&u[m].hasOwnProperty(r))},b=function(r){s.dispatch({type:`${a}/setFallbackLocale`,locale:r})},x=function(r){s.dispatch({type:`${a}/setLocale`,locale:r})},T=function(){return s.state[a].locale},z=function(){return Object.keys(s.state[a].translations)},F=function(r,o){return s.dispatch({type:`${a}/addLocale`,locale:r,translations:o})},R=function(r,o){return s.dispatch({type:`${a}/replaceLocale`,locale:r,translations:o})},S=function(r){s.state[a].translations.hasOwnProperty(r)&&s.dispatch({type:`${a}/removeLocale`,locale:r})},M=function(r){return l.warnings&&console.warn("i18n: $i18n.exists is depreceated. Please use $i18n.localeExists instead. It provides exactly the same functionality."),$(r)},$=function(r){return s.state[a].translations.hasOwnProperty(r)};c.$i18n={locale:T,locales:z,set:x,add:F,replace:R,remove:S,fallback:b,localeExists:$,keyExists:O,translate:P,translateIn:L,exists:M},k.i18n={locale:T,locales:z,set:x,add:F,replace:R,remove:S,fallback:b,translate:P,translateIn:L,localeExists:$,keyExists:O,exists:M},c.$t=P,c.$tlang=L};let H=function(t,e=!0){(t==null||t.length!=2)&&console.warn("i18n: You must specify the start and end character identifying variable substitutions");let n=new RegExp(""+t[0]+"{1}(\\w{1}|\\w.+?)"+t[1]+"{1}","g"),l=function(a,d){return a.replace?a.replace(n,function(g){let s=g.replace(t[0],"").replace(t[1],"");return d[s]!==void 0?d[s]:(e&&(console.group?console.group("i18n: Not all placeholders found"):console.warn("i18n: Not all placeholders found"),console.warn("Text:",a),console.warn("Placeholder:",g),console.groupEnd&&console.groupEnd()),g)}):a};return function(a,d,g={},s=null){let w=typeof d,P=typeof s,L=function(){if(j(d))return d.map(T=>l(T,g));if(w==="string")return l(d,g)};if(s===null)return L();if(P!=="number")return e&&console.warn("i18n: pluralization is not a number"),L();let O=L(),b=null;j(O)&&O.length>0?b=O:b=O.split(":::");let x=G.getTranslationIndex(a,s);return typeof b[x]=="undefined"?(e&&console.warn("i18n: pluralization not provided in locale",d,a,x),b[0].trim()):b[x].trim()}};function j(t){return!!t&&Array===t.constructor}h.VuexI18nPlugin=N,h.i18nVuexModule=E,Object.defineProperty(h,"__esModule",{value:!0}),h[Symbol.toStringTag]="Module"});

(function(O,E){typeof exports=="object"&&typeof module!="undefined"?module.exports=E():typeof define=="function"&&define.amd?define(E):(O=typeof globalThis!="undefined"?globalThis:O||self,O.vuexI18n=E())})(this,function(){"use strict";const O={namespaced:!0,state:{locale:null,fallback:null,translations:{}},mutations:{SET_LOCALE(t,e){t.locale=e.locale},ADD_LOCALE(t,e){var l=E(e.translations);if(t.translations.hasOwnProperty(e.locale)){let r=t.translations[e.locale];t.translations[e.locale]=Object.assign({},r,l)}else t.translations[e.locale]=l;try{t.translations.__ob__&&t.translations.__ob__.dep.notify()}catch{}},REPLACE_LOCALE(t,e){var l=E(e.translations);t.translations[e.locale]=l;try{t.translations.__ob__&&t.translations.__ob__.dep.notify()}catch{}},REMOVE_LOCALE(t,e){if(t.translations.hasOwnProperty(e.locale)){t.locale===e.locale&&(t.locale=null);let l=Object.assign({},t.translations);delete l[e.locale],t.translations=l}},SET_FALLBACK_LOCALE(t,e){t.fallback=e.locale}},actions:{setLocale(t,e){t.commit({type:"SET_LOCALE",locale:e.locale})},addLocale(t,e){t.commit({type:"ADD_LOCALE",locale:e.locale,translations:e.translations})},replaceLocale(t,e){t.commit({type:"REPLACE_LOCALE",locale:e.locale,translations:e.translations})},removeLocale(t,e){t.commit({type:"REMOVE_LOCALE",locale:e.locale,translations:e.translations})},setFallbackLocale(t,e){t.commit({type:"SET_FALLBACK_LOCALE",locale:e.locale})}}},E=function t(e){let l={};for(let r in e){if(!e.hasOwnProperty(r))continue;let n=typeof e[r];if(M(e[r])){let m=e[r].length;for(let i=0;i<m;i++)if(typeof e[r][i]!=="string"){console.warn("i18n:","currently only arrays of strings are fully supported",e[r]);break}l[r]=e[r]}else if(n=="object"&&n!==null){let m=t(e[r]);for(let i in m)!m.hasOwnProperty(i)||(l[r+"."+i]=m[i])}else l[r]=e[r]}return l};function M(t){return!!t&&Array===t.constructor}var B={getTranslationIndex:function(t,e){switch(t){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return e%10!=1||e%100==11?1:0;case"jv":return e!==0?1:0;case"mk":return e===1||e%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return e>1?1:0;case"lv":return e%10==1&&e%100!=11?0:e!==0?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"mnk":return e===0?0:e===1?1:2;case"ro":return e===1?0:e===0||e%100>0&&e%100<20?1:2;case"pl":return e===1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return e===1?0:e>=2&&e<=4?1:2;case"csb":return e===1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mt":return e===1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"gd":return e===1||e===11?0:e===2||e===12?1:e>2&&e<20?2:3;case"cy":return e===1?0:e===2?1:e!==8&&e!==11?2:3;case"kw":return e===1?0:e===2?1:e===3?2:3;case"ga":return e===1?0:e===2?1:e>2&&e<7?2:e>6&&e<11?3:4;case"ar":return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5;default:return e!==1?1:0}}};let I={};I.install=function(e,l,r){(typeof arguments[2]=="string"||typeof arguments[3]=="string")&&(console.warn("i18n: Registering the plugin vuex-i18n with a string for `moduleName` or `identifiers` is deprecated. Use a configuration object instead.","https://github.com/dkfbasel/vuex-i18n#setup"),r={moduleName:arguments[2],identifiers:arguments[3]}),r=Object.assign({warnings:!0,moduleName:"i18n",identifiers:["{","}"],preserveState:!1,translateFilterName:"translate",translateInFilterName:"translateIn",onTranslationNotFound:function(){}},r);const n=r.moduleName,m=r.identifiers,i=r.translateFilterName,p=r.translateInFilterName;let y=r.onTranslationNotFound;if(typeof y!="function"&&(console.error("i18n: i18n config option onTranslationNotFound must be a function"),y=function(){}),l.registerModule(n,O,{preserveState:r.preserveState}),l.state.hasOwnProperty(n)===!1){console.error("i18n: i18n vuex module is not correctly initialized. Please check the module name:",n),e.prototype.$i18n=function(c){return c},e.prototype.$getLanguage=function(){return null},e.prototype.$setLanguage=function(){console.error("i18n: i18n vuex module is not correctly initialized")};return}let f=U(m,r.warnings),x=function(){let a=l.state[n].locale;return w(a,...arguments)},w=function(a){let s=arguments,o="",g="",u={},d=null,v=s.length;if(v>=3&&typeof s[2]=="string"?(o=s[1],g=s[2],v>3&&(u=s[3]),v>4&&(d=s[4])):(o=s[1],g=o,v>2&&(u=s[2]),v>3&&(d=s[3])),!a)return r.warnings&&console.warn("i18n: i18n locale is not set when trying to access translations:",o),g;let h=l.state[n].translations,A=l.state[n].fallback,P=a.split("-"),C=!0;if((h.hasOwnProperty(a)===!1||h[a].hasOwnProperty(o)===!1)&&(C=!1),C===!0)return f(a,h[a][o],u,d);if(P.length>1&&h.hasOwnProperty(P[0])===!0&&h[P[0]].hasOwnProperty(o)===!0)return f(P[0],h[P[0]][o],u,d);let D=y(a,o,g);return D&&Promise.resolve(D).then(q=>{let K={};K[o]=q,F(a,K)}),h.hasOwnProperty(A)===!1?f(a,g,u,d):h[A].hasOwnProperty(o)===!1?f(A,g,u,d):f(a,h[A][o],u,d)},_=function(a,s,...o){return w(s,a,...o)},b=function(a,s="fallback"){let o=l.state[n].locale,g=l.state[n].fallback,u=l.state[n].translations;if(u.hasOwnProperty(o)&&u[o].hasOwnProperty(a))return!0;if(s=="strict")return!1;let d=o.split("-");return d.length>1&&u.hasOwnProperty(d[0])&&u[d[0]].hasOwnProperty(a)?!0:s=="locale"?!1:!!(u.hasOwnProperty(g)&&u[g].hasOwnProperty(a))},L=function(a){l.dispatch({type:`${n}/setFallbackLocale`,locale:a})},k=function(a){l.dispatch({type:`${n}/setLocale`,locale:a})},T=function(){return l.state[n].locale},j=function(){return Object.keys(l.state[n].translations)},F=function(a,s){return l.dispatch({type:`${n}/addLocale`,locale:a,translations:s})},R=function(a,s){return l.dispatch({type:`${n}/replaceLocale`,locale:a,translations:s})},z=function(a){l.state[n].translations.hasOwnProperty(a)&&l.dispatch({type:`${n}/removeLocale`,locale:a})},S=function(a){return r.warnings&&console.warn("i18n: $i18n.exists is depreceated. Please use $i18n.localeExists instead. It provides exactly the same functionality."),N(a)},N=function(a){return l.state[n].translations.hasOwnProperty(a)};e.prototype.$i18n={locale:T,locales:j,set:k,add:F,replace:R,remove:z,fallback:L,localeExists:N,keyExists:b,translate:x,translateIn:w,exists:S},e.i18n={locale:T,locales:j,set:k,add:F,replace:R,remove:z,fallback:L,translate:x,translateIn:w,localeExists:N,keyExists:b,exists:S},e.prototype.$t=x,e.prototype.$tlang=w,e.filter(i,x),e.filter(p,_)};let U=function(t,e=!0){(t==null||t.length!=2)&&console.warn("i18n: You must specify the start and end character identifying variable substitutions");let l=new RegExp(""+t[0]+"{1}(\\w{1}|\\w.+?)"+t[1]+"{1}","g"),r=function(i,p){return i.replace?i.replace(l,function(y){let f=y.replace(t[0],"").replace(t[1],"");return p[f]!==void 0?p[f]:(e&&(console.group?console.group("i18n: Not all placeholders found"):console.warn("i18n: Not all placeholders found"),console.warn("Text:",i),console.warn("Placeholder:",y),console.groupEnd&&console.groupEnd()),y)}):i};return function(i,p,y={},f=null){let x=typeof p,w=typeof f,_=function(){if($(p))return p.map(T=>r(T,y));if(x==="string")return r(p,y)};if(f===null)return _();if(w!=="number")return e&&console.warn("i18n: pluralization is not a number"),_();let b=_(),L=null;$(b)&&b.length>0?L=b:L=b.split(":::");let k=B.getTranslationIndex(i,f);return typeof L[k]=="undefined"?(e&&console.warn("i18n: pluralization not provided in locale",p,i,k),L[0].trim()):L[k].trim()}};function $(t){return!!t&&Array===t.constructor}var Y={store:O,plugin:I};return Y});
